import{i as x,Z as z,r as a,c as u,o as m,a as s,b as l,d as v,w as d,F as c,j as h,t as n,e as g,f as k}from"./app-BiPF-rgh.js";import{I as U}from"./moment-x6zV2OKy.js";import{L as C}from"./Layout-BxXRfBj5.js";import{T as L}from"./TextInput-B6o1xTNQ.js";import{S as N}from"./SelectInput-DP-vpKJo.js";import{L as S}from"./LoadingButton-ChX3xwPs.js";import{_ as q}from"./FlashMessages-CKu9mpmF.js";import"./v4-SoommWqA.js";const A={components:{Head:z,Icon:U,Link:x,LoadingButton:S,SelectInput:N,TextInput:L},layout:C,props:{organization:Object,countries:Array,title:String},remember:"form",data(){return{form:this.$inertia.form({name:this.organization.name,email:this.organization.email,phone:this.organization.phone,address:this.organization.address,city:this.organization.city,region:this.organization.region,country:this.organization.country,postal_code:this.organization.postal_code,max_customers:this.organization.max_customers})}},methods:{update(){this.form.put(route("organizations.update",this.organization.id))},destroy(){confirm("Are you sure you want to delete this organization?")&&this.$inertia.delete(route("organizations.destroy",this.organization.id))},restore(){confirm("Are you sure you want to restore this organization?")&&this.$inertia.put(route("organizations.restore",this.organization.id))}}},B={class:"max-w-full bg-white rounded-md shadow overflow-hidden"},E={class:"flex flex-wrap -mb-8 -mr-6 p-8"},I=["value"],P={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},H={class:"mt-12 text-2xl font-bold"},O={class:"mt-6 bg-white rounded shadow overflow-x-auto"},T={class:"w-full whitespace-nowrap"},j={class:"text-left font-bold"},D={class:"pb-4 pt-6 px-6"},F={class:"pb-4 pt-6 px-6"},M={class:"pb-4 pt-6 px-6",colspan:"2"},Z={class:"border-t"},G={class:"border-t"},J={class:"border-t"},K={class:"w-px border-t"},Q={key:0};function R(t,r,p,W,o,f){const y=a("Head"),i=a("text-input"),w=a("select-input"),_=a("loading-button"),b=a("Link"),V=a("icon");return m(),u("div",null,[s(y,{title:p.title},null,8,["title"]),l("div",B,[l("form",{onSubmit:r[10]||(r[10]=v((...e)=>f.update&&f.update(...e),["prevent"]))},[l("div",E,[s(i,{modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.name=e),error:o.form.errors.name,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Name"),is_required:!0},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.email,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.email=e),error:o.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Email")},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.phone,"onUpdate:modelValue":r[2]||(r[2]=e=>o.form.phone=e),error:o.form.errors.phone,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Phone")},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.address,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.address=e),error:o.form.errors.address,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Address"),is_required:!0},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.city,"onUpdate:modelValue":r[4]||(r[4]=e=>o.form.city=e),error:o.form.errors.city,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("City"),is_required:!0},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.region,"onUpdate:modelValue":r[5]||(r[5]=e=>o.form.region=e),error:o.form.errors.region,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Province/State",is_required:!0},null,8,["modelValue","error"]),s(w,{modelValue:o.form.country,"onUpdate:modelValue":r[6]||(r[6]=e=>o.form.country=e),error:o.form.errors.country,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Country")},{default:d(()=>[r[11]||(r[11]=l("option",{value:null},null,-1)),(m(!0),u(c,null,h(p.countries,e=>(m(),u("option",{key:e.id,value:e.id},n(t.$t(e.name)),9,I))),128))]),_:1,__:[11]},8,["modelValue","error","label"]),s(i,{modelValue:o.form.postal_code,"onUpdate:modelValue":r[7]||(r[7]=e=>o.form.postal_code=e),error:o.form.errors.postal_code,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Postal code")},null,8,["modelValue","error","label"]),s(i,{modelValue:o.form.max_customers,"onUpdate:modelValue":r[8]||(r[8]=e=>o.form.max_customers=e),error:o.form.errors.max_customers,class:"pb-8 pr-6 w-full lg:w-1/2",label:t.$t("Maximum Customers"),is_required:!0},null,8,["modelValue","error","label"])]),l("div",P,[l("button",{class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:r[9]||(r[9]=(...e)=>f.destroy&&f.destroy(...e))},n(t.$t("Delete Organization")),1),s(_,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:d(()=>[g(n(t.$t("Update Organization")),1)]),_:1},8,["loading"])])],32)]),l("h2",H,n(t.$t("Customers")),1),l("div",O,[l("table",T,[l("tbody",null,[l("tr",j,[l("th",D,n(t.$t("Name")),1),l("th",F,n(t.$t("Email")),1),l("th",M,n(t.$t("Phone")),1)]),(m(!0),u(c,null,h(p.organization.customers,e=>(m(),u("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[l("td",Z,[s(b,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:t.route("customers.edit",e.id)},{default:d(()=>[g(n(e.name),1)]),_:2},1032,["href"])]),l("td",G,[s(b,{class:"flex items-center px-6 py-4",href:t.route("customers.edit",e.id),tabindex:"-1"},{default:d(()=>[g(n(e.email),1)]),_:2},1032,["href"])]),l("td",J,[s(b,{class:"flex items-center px-6 py-4",href:t.route("customers.edit",e.id),tabindex:"-1"},{default:d(()=>[g(n(e.phone),1)]),_:2},1032,["href"])]),l("td",K,[s(b,{class:"flex items-center px-4",href:t.route("customers.edit",e.id),tabindex:"-1"},{default:d(()=>[s(V,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),p.organization.customers.length===0?(m(),u("tr",Q,r[12]||(r[12]=[l("td",{class:"px-6 py-4 border-t",colspan:"4"},"No customers found.",-1)]))):k("",!0)])])])])}const se=q(A,[["render",R]]);export{se as default};
