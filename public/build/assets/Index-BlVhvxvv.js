import{i as L,Z as V,r as c,c as a,o as d,a as l,b as t,w as r,t as o,F as b,j as k,f as h,e as p,n as x}from"./app-BNyQzwOD.js";import{I as C}from"./moment-BGXPjeYt.js";import{t as N,S,p as I}from"./SearchInput-BvtGvpzE.js";import{L as U}from"./Layout-CUgdOEE2.js";import{m as j}from"./mapValues-LYLqvA4t.js";import{P as B}from"./Pagination-d2larMfG.js";import{S as F}from"./SelectInput-Eg2ibBhL.js";import{_ as H}from"./FlashMessages-DqKZffwa.js";import"./debounce-C4yIXxFO.js";import"./v4-SoommWqA.js";const P={components:{SearchInput:S,Head:V,Icon:C,Link:L,SelectInput:F,Pagination:B},layout:U,props:{filters:Object,users:Object,roles:Array},data(){return{form:{search:this.filters.search,role_id:this.filters.role_id??null}}},watch:{form:{deep:!0,handler:N(function(){this.$inertia.get(this.route("users"),I(this.form),{preserveState:!0})},150)}},methods:{reset(){this.form=j(this.form,()=>null)},toggleLock(s){this.$inertia.put(this.route("users.toggleLock",s))}}},R={class:"mb-6 flex flex-col md:flex-row gap-3 justify-between items-center ticket-filters"},z={class:"filter-add-new flex flex-col gap-3 md:flex-row w-full items-center max-w-md"},E={value:null},O=["value"],A={class:"bg-white rounded-md shadow overflow-x-auto"},D={class:"w-full whitespace-nowrap"},T={class:"text-left font-bold"},Z={class:"pb-4 pt-6 px-6"},q={class:"pb-4 pt-6 px-6"},G={class:"pb-4 pt-6 px-6"},J={class:"pb-4 pt-6 px-6"},K={class:"pb-4 pt-6 px-6"},M={class:"pb-4 pt-6 px-6"},Q={class:"pb-4 pt-6 px-6"},W={class:"border-t"},X=["src"],Y={class:"border-t"},ee={class:"border-t"},te={class:"border-t"},se={class:"border-t"},oe={class:"border-t capitalize"},le={class:"border-t"},re={class:"flex items-center px-6 py-4"},ne={class:"w-px border-t"},ie=["onClick"],ae={class:"w-px border-t"},de={key:0};function ce(s,n,m,pe,f,u){const y=c("Head"),g=c("search-input"),w=c("select-input"),i=c("Link"),v=c("icon"),$=c("pagination");return d(),a("div",null,[l(y,{title:s.$t("Users")},null,8,["title"]),t("div",R,[l(g,{modelValue:f.form.search,"onUpdate:modelValue":n[0]||(n[0]=e=>f.form.search=e),class:"mr-4 w-full max-w-md",onReset:u.reset},null,8,["modelValue","onReset"]),t("div",z,[l(w,{modelValue:f.form.role_id,"onUpdate:modelValue":n[1]||(n[1]=e=>f.form.role_id=e),class:"mr-2 w-full"},{default:r(()=>[t("option",E,o(s.$t("Filter by role")),1),(d(!0),a(b,null,k(m.roles,(e,_)=>(d(),a("option",{key:_,value:e.id},o(e.name),9,O))),128))]),_:1},8,["modelValue"]),l(i,{class:"btn-indigo",href:s.route("users.create")},{default:r(()=>[t("span",null,o(s.$t("Create New")),1)]),_:1},8,["href"])])]),t("div",A,[t("table",D,[t("tbody",null,[t("tr",T,[t("th",Z,o(s.$t("Name")),1),t("th",q,o(s.$t("Email")),1),t("th",G,o(s.$t("Phone")),1),t("th",J,o(s.$t("Country")),1),t("th",K,o(s.$t("City")),1),t("th",M,o(s.$t("Role")),1),t("th",Q,o(s.$t("Lock Status")),1),n[2]||(n[2]=t("th",{class:"pb-4 pt-6 px-6",colspan:"2"},null,-1))]),(d(!0),a(b,null,k(m.users.data,e=>(d(),a("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",W,[l(i,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:s.route("users.edit",e.id)},{default:r(()=>[e.photo?(d(),a("img",{key:0,class:"block -my-2 mr-2 w-5 h-5 rounded-full",src:e.photo},null,8,X)):h("",!0),p(" "+o(e.name),1)]),_:2},1032,["href"])]),t("td",Y,[l(i,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[p(o(e.email),1)]),_:2},1032,["href"])]),t("td",ee,[l(i,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[p(o(e.phone),1)]),_:2},1032,["href"])]),t("td",te,[l(i,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[p(o(e.country?s.$t(e.country):""),1)]),_:2},1032,["href"])]),t("td",se,[l(i,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[p(o(e.city?s.$t(e.city):""),1)]),_:2},1032,["href"])]),t("td",oe,[l(i,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[p(o(e.role?e.role.name:null),1)]),_:2},1032,["href"])]),t("td",le,[t("div",re,[t("span",{class:x({"text-red-500":e.is_locked,"text-green-500":!e.is_locked})},o(e.is_locked?s.$t("Locked"):s.$t("Unlocked")),3)])]),t("td",ne,[e.role.slug!=="customer"?(d(),a("button",{key:0,onClick:_=>u.toggleLock(e.id),class:x(["flex items-center px-4 py-2 text-sm text-white rounded",{"bg-green-500":e.is_locked,"bg-red-500":!e.is_locked}])},o(e.is_locked?s.$t("Unlock"):s.$t("Lock")),11,ie)):h("",!0)]),t("td",ae,[l(i,{class:"flex items-center px-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:r(()=>[l(v,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),m.users.data.length===0?(d(),a("tr",de,n[3]||(n[3]=[t("td",{class:"px-6 py-4 border-t",colspan:"8"},"No users found.",-1)]))):h("",!0)])])]),l($,{class:"mt-6",links:m.users.links},null,8,["links"])])}const we=H(P,[["render",ce]]);export{we as default};
