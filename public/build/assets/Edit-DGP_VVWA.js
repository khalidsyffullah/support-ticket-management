import{i as y,Z as v,r as m,c as p,o as d,a as l,b as s,d as c,w as f,F as S,j as U,t as a,f as w,e as A}from"./app-dVhcWV0-.js";import{L as k}from"./Layout-CdXNcXNj.js";import{T as z}from"./TextInput-DGY2W5Db.js";import{F as C}from"./FileInput-CXRm_xw5.js";import{S as L}from"./SelectInput-DOcYVNQZ.js";import{L as j}from"./LoadingButton-W8G2sVRo.js";import{_ as q}from"./FlashMessages-BJkrle5f.js";import"./moment-CPMoB5za.js";import"./v4-SoommWqA.js";const B={components:{FileInput:C,Head:v,Link:y,LoadingButton:j,SelectInput:L,TextInput:z},layout:k,props:{user:Object,auth:Object,countries:Array,organizations:Array,cities:Array,title:String},remember:"form",data(){return{user_access:this.$page.props.auth.user.access,form:this.$inertia.form({_method:"put",first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone,city:this.user.city,address:this.user.address,country_id:this.user.country_id,organization_id:this.user.organization_id,approval_status:this.user.approval_status,password:"",photo_path:null})}},created(){},methods:{setDefaultValue(t,r,u){const b=t.find(e=>e.name.match(new RegExp(u+".*")));b&&(this.form[r]=b.id)},update(){this.form.post(this.route("customers.update",this.user.id),{onSuccess:()=>this.form.reset("password","photo")})},updateApprovalStatus(){this.$inertia.put(this.route("customers.updateApprovalStatus",this.user.id),{approval_status:this.form.approval_status,_method:"put"},{preserveScroll:!0,preserveState:!0})},destroy(){confirm("Are you sure you want to delete this user?")&&this.$inertia.delete(this.route("customers.destroy",this.user.id))},restore(){confirm("Are you sure you want to restore this user?")&&this.$inertia.put(this.route("customers.restore",this.user.id))}}},F={class:"max-w-full bg-white rounded-md shadow overflow-hidden"},E={class:"flex flex-wrap -mb-8 -mr-6 p-8"},N=["value"],P={class:"w-full lg:w-1/3 flex items-center justify-start"},D=["src"],H={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},I={value:"pending"},O={value:"approved"},T={value:"rejected"};function R(t,r,u,b,e,n){const _=m("Head"),i=m("text-input"),h=m("select-input"),g=m("file-input"),V=m("loading-button");return d(),p("div",null,[l(_,{title:u.title},null,8,["title"]),s("div",F,[s("form",{onSubmit:r[12]||(r[12]=c((...o)=>n.update&&n.update(...o),["prevent"]))},[s("div",E,[l(i,{modelValue:e.form.first_name,"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.first_name=o),error:e.form.errors.first_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("First name"),is_required:!0},null,8,["modelValue","error","label"]),l(i,{modelValue:e.form.last_name,"onUpdate:modelValue":r[1]||(r[1]=o=>e.form.last_name=o),error:e.form.errors.last_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("Last name"),is_required:!0},null,8,["modelValue","error","label"]),l(i,{modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e.form.email=o),error:e.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("Email"),is_required:!0},null,8,["modelValue","error","label"]),l(i,{modelValue:e.form.phone,"onUpdate:modelValue":r[3]||(r[3]=o=>e.form.phone=o),error:e.form.errors.phone,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("Phone")},null,8,["modelValue","error","label"]),l(i,{modelValue:e.form.city,"onUpdate:modelValue":r[4]||(r[4]=o=>e.form.city=o),error:e.form.errors.city,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("City")},null,8,["modelValue","error","label"]),l(i,{modelValue:e.form.address,"onUpdate:modelValue":r[5]||(r[5]=o=>e.form.address=o),error:e.form.errors.address,class:"pb-8 pr-6 w-full lg:w-1/3",label:t.$t("Address")},null,8,["modelValue","error","label"]),l(h,{modelValue:e.form.country_id,"onUpdate:modelValue":r[6]||(r[6]=o=>e.form.country_id=o),error:e.form.errors.country_id,class:"pr-6 pb-8 w-full lg:w-1/3",label:t.$t("Country")},{default:f(()=>r[13]||(r[13]=[s("option",{value:"19"},"Bangladesh",-1)])),_:1,__:[13]},8,["modelValue","error","label"]),l(h,{modelValue:e.form.organization_id,"onUpdate:modelValue":r[7]||(r[7]=o=>e.form.organization_id=o),error:e.form.errors.organization_id,class:"pr-6 pb-8 w-full lg:w-1/3",label:t.$t("Organization"),is_required:!0},{default:f(()=>[r[14]||(r[14]=s("option",{value:null},null,-1)),(d(!0),p(S,null,U(u.organizations,o=>(d(),p("option",{key:o.id,value:o.id},a(t.$t(o.name)),9,N))),128))]),_:1,__:[14]},8,["modelValue","error","label"]),l(i,{modelValue:e.form.password,"onUpdate:modelValue":r[8]||(r[8]=o=>e.form.password=o),error:e.form.errors.password,class:"pb-8 pr-6 w-full lg:w-1/3",type:"password",autocomplete:"new-password",label:t.$t("Password"),is_required:!0},null,8,["modelValue","error","label"]),l(g,{modelValue:e.form.photo_path,"onUpdate:modelValue":r[9]||(r[9]=o=>e.form.photo_path=o),error:e.form.errors.photo_path,class:"pb-8 pr-6 w-full lg:w-1/3",type:"file",accept:"image/*",label:"Photo"},null,8,["modelValue","error"]),s("div",P,[u.user.photo_path?(d(),p("img",{key:0,class:"block mb-2 w-8 h-8 rounded-full",src:u.user.photo_path},null,8,D)):w("",!0)])]),s("div",H,[l(h,{modelValue:e.form.approval_status,"onUpdate:modelValue":r[10]||(r[10]=o=>e.form.approval_status=o),error:e.form.errors.approval_status,class:"pr-6 pb-8 w-full lg:w-1/3",label:t.$t("Approval Status"),onChange:n.updateApprovalStatus},{default:f(()=>[s("option",I,a(t.$t("Pending")),1),s("option",O,a(t.$t("Approved")),1),s("option",T,a(t.$t("Rejected")),1)]),_:1},8,["modelValue","error","label","onChange"]),u.user.id!==u.auth.user.id&&e.user_access.customer.delete?(d(),p("button",{key:0,class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:r[11]||(r[11]=(...o)=>n.destroy&&n.destroy(...o))},a(t.$t("Delete")),1)):w("",!0),l(V,{loading:e.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:f(()=>[A(a(t.$t("Update")),1)]),_:1},8,["loading"])])],32)])])}const Y=q(B,[["render",R]]);export{Y as default};
