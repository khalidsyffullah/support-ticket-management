import{Z as c,i as b,r as m,c as d,o as u,a as r,b as l,d as g,t as n,g as _,v as I,f as A,z as h,w as M,e as O,k as w}from"./app-BEAYHNtc.js";import{I as y}from"./moment-DS4z8VdE.js";import{L as v}from"./Layout-CLTI95YO.js";import{P as S}from"./Pagination-porXMyQK.js";import{T as R}from"./TextInput-MjWXmbAW.js";import{S as k}from"./SelectInput-DuNFPQE3.js";import{L as x}from"./LoadingButton-DHz1w5lQ.js";import{_ as T}from"./FlashMessages-DEX8PRzT.js";import"./v4-SoommWqA.js";const V={metaInfo:{title:"Priorities"},components:{Icon:y,Link:b,Head:c,Pagination:S,TextInput:R,SelectInput:k,LoadingButton:x},layout:v,props:{title:String,keys:Object,option:Object,demo:Boolean},remember:"form",data(){return{form:this.$inertia.form({IMAP_HOST:this.keys.IMAP_HOST?this.keys.IMAP_HOST.value:null,IMAP_PORT:this.keys.IMAP_PORT?this.keys.IMAP_PORT.value:null,IMAP_PROTOCOL:this.keys.IMAP_PROTOCOL?this.keys.IMAP_PROTOCOL.value:null,IMAP_ENCRYPTION:this.keys.IMAP_ENCRYPTION?this.keys.IMAP_ENCRYPTION.value:null,IMAP_USERNAME:this.keys.IMAP_USERNAME?this.keys.IMAP_USERNAME.value:null,IMAP_PASSWORD:this.keys.IMAP_PASSWORD?this.keys.IMAP_PASSWORD.value:null,enable_piping:this.option})}},methods:{update(){this.form.put(this.route("settings.piping.update"),{onSuccess:()=>{w.get(this.route("clear.cache","config")).then(s=>{})}})}}},E={class:"bg-white rounded-md shadow overflow-hidden mr-2"},N={class:"p-8 -mr-6 -mb-8 flex flex-wrap"},C={class:"assigned_user pr-6 pb-8 w-full lg:w-full flex flex-col"},U={class:"font-bold text-sm mb-1"},L={class:"text-sm pt-1 mb-1"},H={class:"flex items-center justify-start pr-6 pb-8 w-full lg:w-1/3"},D={for:"enablePiping",class:"flex toggle_swtich items-center cursor-pointer"},j={class:"relative"},Y={class:"ml-3 text-sm"},W={class:"px-8 flex"},B={key:0,class:"pt-1 mb-1"},q={class:"p-8 -mr-6 -mb-8 flex flex-wrap"},z={class:"p-8 flex flex-wrap"},F={class:"assigned_user pr-6 pb-8 w-full lg:w-full flex flex-col"},Z={class:"font-bold text-sm mb-1"},G={class:"px-8 py-4 bg-gray-50 border-t border-gray-100 flex items-center"};function J(s,e,a,K,o,p){const f=m("Head"),i=m("text-input"),P=m("loading-button");return u(),d("div",null,[r(f,{title:a.title},null,8,["title"]),l("div",E,[l("form",{onSubmit:e[7]||(e[7]=g((...t)=>p.update&&p.update(...t),["prevent"]))},[l("div",N,[l("div",C,[l("div",U,n(s.$t("Enable Email Piping Option")),1),l("p",L,n(s.$t("Ticket create automatically including attachment when receive a new email.")),1)]),l("div",H,[l("label",D,[l("div",j,[_(l("input",{id:"enablePiping",type:"checkbox",class:"sr-only","onUpdate:modelValue":e[0]||(e[0]=t=>a.option.value=t)},null,512),[[I,a.option.value]]),e[8]||(e[8]=l("div",{class:"w-10 h-4 bg-gray-400 rounded-full shadow-inner"},null,-1)),e[9]||(e[9]=l("div",{class:"dot absolute w-6 h-6 bg-white rounded-full shadow -left-1 -top-1 transition"},null,-1))]),l("div",Y,n(a.option.name),1)])])]),l("div",W,[a.demo?(u(),d("p",B,n(s.$t("You can try to sending email with the `piping@atorali.com` email address to test on the demo mode.")),1)):A("",!0)]),l("div",q,[r(i,{type:"text",modelValue:o.form.IMAP_HOST,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.IMAP_HOST=t),error:o.form.errors.IMAP_HOST,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Host")},null,8,["modelValue","error","label"]),r(i,{type:"text",modelValue:o.form.IMAP_PORT,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.IMAP_PORT=t),error:o.form.errors.IMAP_PORT,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Port")},null,8,["modelValue","error","label"]),r(i,{type:"text",modelValue:o.form.IMAP_PROTOCOL,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.IMAP_PROTOCOL=t),error:o.form.errors.IMAP_PROTOCOL,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Protocol"),placeholder:s.$t("e.g. imap")},null,8,["modelValue","error","label","placeholder"]),r(i,{type:"text",modelValue:o.form.IMAP_ENCRYPTION,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.IMAP_ENCRYPTION=t),error:o.form.errors.IMAP_ENCRYPTION,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Encryption"),placeholder:s.$t("e.g. ssl")},null,8,["modelValue","error","label","placeholder"]),r(i,{type:"text",modelValue:o.form.IMAP_USERNAME,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.IMAP_USERNAME=t),error:o.form.errors.IMAP_USERNAME,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Username")},null,8,["modelValue","error","label"]),r(i,{type:"text",modelValue:o.form.IMAP_PASSWORD,"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.IMAP_PASSWORD=t),error:o.form.errors.IMAP_PASSWORD,class:"pr-6 pb-8 w-full lg:w-1/3",label:s.$t("IMAP Password")},null,8,["modelValue","error","label"])]),l("div",z,[l("div",F,[l("div",Z,n(s.$t("Email Piping Cronjob Instruction")),1),e[10]||(e[10]=h('<p class="mt-2 font-light">If you would like to create automatically ticket from sending email you need set a cron job for that which one run like every 3 minute.</p><code class="mt-5 mb-5 prose block whitespace-pre mt-1 text-sm">*/3 * * * * /usr/bin/php artisan command:piping_email</code><p class="mt-3 font-light">For the shared hosting like cPanel or any panel server you can call url as like this</p><code class="mt-5 mb-5 prose block whitespace-pre mt-1 text-sm">*/3 * * * * wget -q -O - https://website.com/cron/piping &gt;/dev/null 2&gt;&amp;1</code><img src="/images/cron_job_example.png" alt="cron job example">',5))])]),l("div",G,[r(P,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:M(()=>[O(n(s.$t("Save")),1)]),_:1},8,["loading"])])],32)])])}const ie=T(V,[["render",J]]);export{ie as default};
