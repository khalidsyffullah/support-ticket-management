import{i as x,Z as N,r as m,c as o,o as n,a as c,b as t,f as r,t as e,l as u,F as f,j as g,w as v,e as h}from"./app-DN0LzDfC.js";import{L as C}from"./Layout-DzH_awW4.js";import{I as T}from"./moment-NOAVaWKV.js";import{_ as j}from"./FlashMessages-C_d4qtLt.js";const L={metaInfo:{title:"Dashboard"},components:{Head:N,Icon:T,Link:x},layout:C,props:{auth:Object,entries:Array,chart_line:Object,api_key:String,new_tickets:Number,total_tickets:Number,un_assigned_tickets:Number,opened_tickets:Number,closed_tickets:Number,first_response:Array,top_creators:Array,last_response:Array,top_departments:Array,top_types:Array,total_customer:Number,total_contacts:Number,customer_tickets:Array,notifications:Array,notices:Array},data(){return{errors:[],loading:!1,firstResponse:[],lastResponse:[],months:[]}},created(){for(let s=0;s<this.first_response.length;s++)s%2===0&&(this.firstResponse=[...this.firstResponse,[this.first_response[s],this.first_response[s+1]]]);for(let s=0;s<this.last_response.length;s++)s%2===0&&(this.lastResponse=[...this.lastResponse,[this.last_response[s],this.last_response[s+1]]]);this.months=this.chart_line.previousMonths.map(s=>({month:s,value:this.chart_line.months[s]?this.chart_line.months[s]*100/this.chart_line.total+"%":"0%"}))},methods:{goToLink(s){window.location.href=s}}},A={class:"badge__items flex flex-col lg:flex-row gap-5"},R={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},I={class:"badge__info"},z={class:"title"},B={class:"number"},V={class:"a__right"},S={class:"round_circle pr-3 rtl:pl-3"},D={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},F={class:"badge__info"},H={class:"title"},M={class:"number"},O={class:"a__right"},E={class:"round_circle pr-3 rtl:pl-3"},U={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},Y={class:"badge__info"},Z={class:"title"},q={class:"number"},G={class:"a__right"},J={class:"round_circle pr-3 rtl:pl-3"},K={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},P={class:"badge__info"},Q={class:"title"},W={class:"number"},X={class:"a__right"},$={class:"round_circle pr-3 rtl:pl-3"},tt={key:0,class:"flex flex-wrap mt-8"},st={class:"w-full lg:w-1/2 pr-3"},et={key:0,class:"bg-white rounded-md shadow overflow-x-auto"},it={class:"w-full whitespace-nowrap"},lt={class:"text-left font-bold"},ot={class:"pb-4 pt-6 px-6"},nt={class:"pb-4 pt-6 px-6"},at={class:"pb-4 pt-6 px-6"},ct={class:"border-t"},rt={class:"border-t"},dt={class:"border-t"},_t={key:0},ht={class:"px-6 py-4 border-t",colspan:"3"},ut={key:1,class:"mt-4 text-center"},ft={class:"w-full lg:w-1/2 pl-3"},gt={key:0,class:"bg-white rounded-md shadow overflow-hidden"},pt={class:"p-4 border-b"},mt={class:"font-bold text-lg"},vt={class:"divide-y"},bt={class:"font-bold"},wt={class:"text-gray-600"},kt={key:1,class:"response__details mt-8 flex gap-5 flex-col lg:flex-row"},yt={class:"w-full"},xt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},Nt={class:"th__ttl font-bold text-lg pt-3"},Ct={class:"th__info flex flex-col pt-3"},Tt={class:"w-full"},jt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},Lt={class:"th__ttl font-bold text-lg pt-3"},At={class:"th__info flex flex-col pt-3"},Rt={class:"w-full"},It={class:"r__wrapper flex flex-col pl-5 pl-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},zt={class:"th__ttl font-bold text-lg pt-3"},Bt={class:"th__info flex flex-col pt-3"},Vt={key:2,class:"response__details flex flex-col lg:flex-row mt-8 gap-5"},St={class:"flex gap-5 flex-col lg:flex-row lg:w-10/12"},Dt={class:"w-full"},Ft={class:"r__wrapper flex flex-col p-5 bg-white rounded-lg shadow-lg rd"},Ht={class:"th__ttl font-bold text-lg pt-3"},Mt={class:"th__info flex"},Ot={class:"text-2xl font-bold"},Et={class:"pt-2 text-xs pl-1 pr-1"},Ut={class:"pt-2 text-xs font-bold pl-2 pr-2"},Yt={key:0,class:"flex w-full justify-center c__wrapper"},Zt={class:"c__line flex flex-col w-full items-center gap-3"},qt={class:"cl__n text-xs"},Gt={class:"rd w-full lg:w-2/5"},Jt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white rounded-lg shadow-lg rd"},Kt={class:"res__info"},Pt={class:"title"},Qt={class:"res_avg"},Wt={class:"flex justify-start"},Xt={class:"num"},$t={class:"text"},ts={key:1,class:"res_time pr-5"},ss={class:"tc__info"},es={class:"title"},is={class:"res_avg"},ls={class:"flex justify-start"},os={class:"num"},ns={class:"text"},as={key:1,class:"res_time pr-5"},cs={class:"flex gap-5 flex-col lg:w-2/12"},rs={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},ds={class:"badge__info"},_s={class:"title"},hs={class:"number"},us={class:"a__right"},fs={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},gs={class:"badge__info"},ps={class:"title"},ms={class:"number"},vs={class:"a__right"},bs={key:3,class:"processing-overlay"},ws={class:"loader"},ks={width:"200px",height:"200px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"none"}};function ys(s,a,i,xs,d,_){const y=m("Head"),p=m("Link"),b=m("vc-donut"),k=m("icon");return n(),o("div",null,[c(y,{title:s.$t("Dashboard")},null,8,["title"]),t("div",A,[t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:a[0]||(a[0]=l=>_.goToLink(this.route("tickets",{type:"new"})))},[t("div",R,[t("div",I,[t("span",z,e(s.$t("New Tickets")),1),t("span",B,e(i.new_tickets),1)]),t("div",V,[t("div",S,[t("div",{class:"pie animate",style:u({"--pie_val":parseInt(i.new_tickets*100/i.total_tickets)})},e(parseInt(i.new_tickets*100/i.total_tickets)||0)+"%",5)])])])]),t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:a[1]||(a[1]=l=>_.goToLink(this.route("tickets",{type:"open"})))},[t("div",D,[t("div",F,[t("span",H,e(s.$t("Open Tickets")),1),t("span",M,e(i.opened_tickets),1)]),t("div",O,[t("div",E,[t("div",{class:"pie animate",style:u({"--pie_val":parseInt(i.opened_tickets*100/i.total_tickets)})},e(parseInt(i.opened_tickets*100/i.total_tickets)||0)+"%",5)])])])]),t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:a[2]||(a[2]=l=>_.goToLink(this.route("tickets",{search:"close"})))},[t("div",U,[t("div",Y,[t("span",Z,e(s.$t("Closed Tickets")),1),t("span",q,e(i.closed_tickets),1)]),t("div",G,[t("div",J,[t("div",{class:"pie animate",style:u({"--pie_val":parseInt(i.closed_tickets*100/i.total_tickets)})},e(parseInt(i.closed_tickets*100/i.total_tickets)||0)+"%",5)])])])]),i.auth.user.role.slug!=="customer"?(n(),o("div",{key:0,class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:a[3]||(a[3]=l=>_.goToLink(this.route("tickets",{type:"un_assigned"})))},[t("div",K,[t("div",P,[t("span",Q,e(s.$t("Unassigned Tickets")),1),t("span",W,e(i.un_assigned_tickets),1)]),t("div",X,[t("div",$,[t("div",{class:"pie animate",style:u({"--pie_val":parseInt(i.un_assigned_tickets*100/i.total_tickets)})},e(parseInt(i.un_assigned_tickets*100/i.total_tickets)||0)+"%",5)])])])])):r("",!0)]),i.auth.user.role.slug==="customer"?(n(),o("div",tt,[t("div",st,[i.customer_tickets.length?(n(),o("div",et,[t("table",it,[t("tr",lt,[t("th",ot,e(s.$t("Ticket Number")),1),t("th",nt,e(s.$t("Name")),1),t("th",at,e(s.$t("Status")),1)]),(n(!0),o(f,null,g(i.customer_tickets,l=>(n(),o("tr",{key:l.uid,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",ct,[c(p,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:s.route("tickets.edit",l.uid)},{default:v(()=>[h(e(l.uid),1)]),_:2},1032,["href"])]),t("td",rt,[c(p,{class:"flex items-center px-6 py-4",href:s.route("tickets.edit",l.uid),tabindex:"-1"},{default:v(()=>[h(e(l.subject),1)]),_:2},1032,["href"])]),t("td",dt,[c(p,{class:"flex items-center px-6 py-4",href:s.route("tickets.edit",l.uid),tabindex:"-1"},{default:v(()=>[h(e(l.status),1)]),_:2},1032,["href"])])]))),128)),i.customer_tickets.length===0?(n(),o("tr",_t,[t("td",ht,e(s.$t("No tickets found.")),1)])):r("",!0)])])):r("",!0),i.customer_tickets.length?(n(),o("div",ut,[c(p,{class:"text-indigo-600 hover:text-indigo-900",href:s.route("tickets")},{default:v(()=>[h(e(s.$t("View All")),1)]),_:1},8,["href"])])):r("",!0)]),t("div",ft,[i.notices.length?(n(),o("div",gt,[t("div",pt,[t("h2",mt,e(s.$t("Notice Board")),1)]),t("ul",vt,[(n(!0),o(f,null,g(i.notices,l=>(n(),o("li",{key:l.id,class:"p-4"},[t("h3",bt,e(l.title),1),t("p",wt,e(l.content),1)]))),128))])])):r("",!0)])])):r("",!0),i.auth.user.role.slug!=="customer"?(n(),o("div",kt,[t("div",yt,[t("div",xt,[t("h2",Nt,e(s.$t("Ticket by department")),1),t("div",Ct,[c(b,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_departments,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])]),t("div",Tt,[t("div",jt,[t("h2",Lt,e(s.$t("Ticket by type")),1),t("div",At,[c(b,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_types,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])]),t("div",Rt,[t("div",It,[t("h2",zt,e(s.$t("Top ticket creator")),1),t("div",Bt,[c(b,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_creators,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])])])):r("",!0),i.auth.user.role.slug!=="customer"?(n(),o("div",Vt,[t("div",St,[t("div",Dt,[t("div",Ft,[t("h2",Ht,e(s.$t("Ticket history")),1),t("div",Mt,[t("span",Ot,e(i.chart_line.this_month),1),t("span",Et,"/ "+e(s.$t("this month")),1),t("span",Ut,e(s.$t("last month"))+" "+e(i.chart_line.last_month),1)]),d.months.length?(n(),o("div",Yt,[(n(!0),o(f,null,g(d.months,l=>(n(),o("div",Zt,[t("span",{class:"cl__b",style:u({"--cl_value":l.value})},null,4),t("span",qt,e(l.month),1)]))),256))])):r("",!0)])]),t("div",Gt,[t("div",Jt,[t("div",Kt,[t("span",Pt,e(s.$t("First Response Time")),1),t("span",Qt,e(s.$t("Average")),1),t("div",Wt,[d.firstResponse.length?(n(!0),o(f,{key:0},g(d.firstResponse,(l,w)=>(n(),o("div",{class:"res_time pr-5",key:w},[t("span",Xt,e(l[0]),1),t("span",$t,e(s.$t(l[1])),1)]))),128)):(n(),o("div",ts," 0 "))])]),t("div",ss,[t("span",es,e(s.$t("Last Response Time")),1),t("span",is,e(s.$t("Average")),1),t("div",ls,[d.lastResponse.length?(n(!0),o(f,{key:0},g(d.lastResponse,(l,w)=>(n(),o("div",{class:"res_time pr-5",key:w},[t("span",os,e(l[0]),1),t("span",ns,e(s.$t(l[1])),1)]))),128)):(n(),o("div",as," 0 "))])])])])]),t("div",cs,[t("div",{class:"badge__item h-32 w-full cursor-pointer",onClick:a[4]||(a[4]=l=>_.goToLink(this.route("users")))},[t("div",rs,[t("div",ds,[t("span",_s,e(s.$t("Customers")),1),t("span",hs,e(i.total_customer),1)]),t("div",us,[c(k,{name:"pending_users",class:"h-5 fill-gray-400 mr-5 ml-5"})])])]),t("div",{class:"badge__item h-32 w-full cursor-pointer",onClick:a[5]||(a[5]=l=>_.goToLink(this.route("contacts")))},[t("div",fs,[t("div",gs,[t("span",ps,e(s.$t("Contacts")),1),t("span",ms,e(i.total_contacts),1)]),t("div",vs,[c(k,{name:"contact",class:"h-5 fill-gray-400 mr-5 ml-5"})])])])])])):r("",!0),d.loading?(n(),o("div",bs,[a[9]||(a[9]=t("div",{class:"background"},null,-1)),t("div",ws,[a[7]||(a[7]=h(" `")),(n(),o("svg",ks,a[6]||(a[6]=[t("circle",{cx:"75",cy:"50",fill:"#ffffff",r:"6.39718"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.875s"})],-1),t("circle",{cx:"67.678",cy:"67.678",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.75s"})],-1),t("circle",{cx:"50",cy:"75",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.625s"})],-1),t("circle",{cx:"32.322",cy:"67.678",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"})],-1),t("circle",{cx:"25",cy:"50",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.375s"})],-1),t("circle",{cx:"32.322",cy:"32.322",fill:"#ffffff",r:"4.80282"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"})],-1),t("circle",{cx:"50",cy:"25",fill:"#ffffff",r:"6.40282"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.125s"})],-1),t("circle",{cx:"67.678",cy:"32.322",fill:"#ffffff",r:"7.99718"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})],-1)]))),a[8]||(a[8]=h("` "))])])):r("",!0)])}const Ls=j(L,[["render",ys]]);export{Ls as default};
