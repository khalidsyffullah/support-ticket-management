import{i as S,Z as H,r as g,c as i,o as r,a,b as t,f as u,F as c,j as p,w as b,e as h,t as n,d as j,h as v,g as y,a0 as M,y as U,v as T}from"./app-BEAYHNtc.js";import{_ as B,L as z}from"./FlashMessages-DEX8PRzT.js";import{L as I}from"./Layout-BZQQJF3i.js";import{I as q}from"./moment-DS4z8VdE.js";import{T as F}from"./TextInput-MjWXmbAW.js";import{S as A}from"./SelectInput-DuNFPQE3.js";import{L as D}from"./LoadingButton-DHz1w5lQ.js";import{s as E}from"./index-B7pFTvmf.js";import{Q as N}from"./vue-quill.snow-Dl0qpTl2.js";import"./v4-SoommWqA.js";const O={metaInfo:{title:"Home"},layout:I,components:{Logo:z,Icon:q,LoadingButton:D,SelectInput:A,TextInput:F,Head:H,Link:S,QuillEditor:N},props:{all_categories:{required:!0},departments:Array,types:Array,title:String,page:Object,auth:Object,custom_fields:Object,hide_ticket_fields:Array,require_login:Boolean},remember:"form",data(){return{accept_terms:!1,html:JSON.parse(this.page.html),categories:[],sub_categories:[],form:this.$inertia.form({first_name:"",last_name:"",email:"",department_id:null,category_id:null,sub_category_id:null,type_id:null,subject:null,details:"",files:[],custom_field:{}}),sanitizeHtml:E}},methods:{getCategories(){this.categories=this.all_categories.filter(o=>o.department_id===this.form.department_id),this.form.category_id=null,this.$refs.category.selected=null},getSubCategories(){this.sub_categories=this.all_categories.filter(o=>o.parent_id===this.form.category_id),this.form.sub_category_id=null,this.$refs.sub_category.selected=null},uploadFiles(){this.form.files=this.$refs.files.files},store(){this.accept_terms||alert("You must need to accept the terms and condition."),this.form.post(this.route("ticket_store"),{onSuccess:()=>{this.form.reset()}})},fileInputChange(o){let s=o.target.files;for(let f=0;f<s.length;f++)this.form.files.push(s[f])},fileRemove(o,s){this.form.files.splice(s,1)},getFileSize(o){const s=Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,s)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][s]},fileBrowse(){this.$refs.file.click()}},created(){this.auth.user&&(this.form.first_name=this.auth.user.first_name,this.form.last_name=this.auth.user.last_name,this.form.email=this.auth.user.email);for(let o=0;o<this.custom_fields.length;o++)this.custom_fields[o.name]&&(this.form.custom_field[this.custom_fields[o.name]]="")}},Q={id:"home",class:"relative overflow-hidden bg-primary pt-[120px] md:pt-[130px] lg:pt-[160px]"},R={class:"container"},G={class:"-mx-4 flex flex-wrap items-center"},J={class:"w-full px-4"},Y={class:"hero-content wow fadeInUp mx-auto max-w-[780px] text-center","data-wow-delay":".2s"},Z=["innerHTML"],K=["innerHTML"],P={class:"mb-10 flex flex-wrap items-center justify-center gap-6"},W={class:"w-full px-4"},X={class:"wow fadeInUp relative z-10 mx-auto max-w-[845px]","data-wow-delay":".25s"},$={class:"mt-16"},ee=["src"],te={key:1,src:"/landing/images/dashboard-helpdesk.png",alt:"",class:"mx-auto max-w-full rounded-t-xl rounded-tr-xl"},le={class:"pt-20 pb-8 lg:pt-[120px] lg:pb-[70px]"},se={class:"container"},oe={class:"-mx-4 flex flex-wrap"},re={class:"w-full px-4"},ie={class:"mb-12 max-w-[620px] lg:mb-20"},ne={class:"mb-2 block text-lg font-semibold text-primary"},ae={class:"mb-4 text-3xl font-bold text-dark sm:text-4xl md:text-[42px]"},de=["innerHTML"],me={key:0,class:"-mx-4 flex flex-wrap"},ue={class:"wow fadeInUp group mb-12 bg-white","data-wow-delay":".1s"},ce={class:"relative z-10 mb-8 flex h-[70px] w-[70px] items-center justify-center rounded-2xl bg-primary"},pe={class:"mb-3 text-xl font-bold text-dark"},fe=["innerHTML"],ge={key:0,class:"relative md:py-24 py-16 bg-gray-50 dark:bg-slate-800",id:"ticketSubmit"},be={class:"container"},he={class:"px-5"},_e={class:"py-5 text-center md:text-3xl text-2xl md:leading-normal leading-normal font-semibold"},xe={class:"flex flex-wrap"},ye={value:null},we=["value"],ve={value:null},ke=["value"],Ve={value:null},Ce=["value"],Le={value:null},Se=["value"],He={class:"pt-2 pb-8 w-full"},je={class:"form-label"},Me={class:"grid gap-6 mb-6"},Ue={class:"flex flex-col w-full"},Te=["for"],Be={key:0,class:"pl-2 text-xs"},ze=["onUpdate:modelValue","type","id","placeholder","required"],Ie=["id","onUpdate:modelValue","placeholder"],qe={key:2,class:"mt-1 text-sm text-gray-500 dark:text-gray-300"},Fe={class:"pr-6 rtl:pl-6 pb-8 w-full lg:w-full flex-col"},Ae={class:"flex-1 pr-1"},De={class:"text-gray-500 text-xs"},Ee=["onClick"],Ne={class:"flex items-start mb-5"},Oe={class:"flex items-center h-5"},Qe={for:"terms",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},Re=["href"],Ge={class:"px-4 py-4 border-t border-gray-100 flex justify-end"};function Je(o,s,f,Ye,l,d){const k=g("Head"),V=g("Link"),w=g("icon"),_=g("text-input"),x=g("select-input"),C=g("QuillEditor"),L=g("loading-button");return r(),i("div",null,[a(k,{title:o.$t("Home")},null,8,["title"]),t("div",Q,[t("div",R,[t("div",G,[t("div",J,[t("div",Y,[t("h1",{class:"mb-8 text-3xl font-bold leading-snug text-white sm:text-4xl sm:leading-snug md:text-[45px] md:leading-snug",innerHTML:l.sanitizeHtml(l.html.sections[0].title)},null,8,Z),t("p",{class:"mx-auto mb-10 max-w-[600px] text-base text-[#e4e4e4] sm:text-lg sm:leading-relaxed md:text-xl md:leading-relaxed",innerHTML:l.sanitizeHtml(l.html.sections[0].details)},null,8,K),t("ul",P,[(r(!0),i(c,null,p(l.html.sections[0].buttons,(e,m)=>(r(),i("li",{key:m},[a(V,{href:e.link,class:"inline-flex items-center justify-center rounded-lg bg-white py-4 px-6 text-center text-base font-medium text-dark transition duration-300 ease-in-out hover:text-primary hover:shadow-lg sm:px-10"},{default:b(()=>[h(n(e.text),1)]),_:2},1032,["href"])]))),128))])])]),t("div",W,[t("div",X,[t("div",$,[l.html.sections[0].image?(r(),i("img",{key:0,src:l.html.sections[0].image,alt:"",class:"mx-auto max-w-full rounded-t-xl rounded-tr-xl"},null,8,ee)):(r(),i("img",te))]),s[15]||(s[15]=t("div",{class:"absolute bottom-0 -left-9 z-[-1]"},[t("img",{src:"/images/svg/dot-1.svg",alt:"dot"})],-1)),s[16]||(s[16]=t("div",{class:"absolute -top-6 -right-6 z-[-1]"},[t("img",{src:"/images/svg/dot-2.svg",alt:"dot"})],-1))])])])])]),t("section",le,[t("div",se,[t("div",oe,[t("div",re,[t("div",ie,[t("span",ne,n(l.html.sections[1].tagline),1),t("h2",ae,n(l.html.sections[1].title),1),t("p",{class:"text-lg leading-relaxed text-body-color sm:text-xl sm:leading-relaxed",innerHTML:l.html.sections[1].details},null,8,de)])])]),l.html.sections[1]?(r(),i("div",me,[(r(!0),i(c,null,p(l.html.sections[1].features,(e,m)=>(r(),i("div",{key:m,class:"w-full px-4 md:w-1/2 lg:w-1/4"},[t("div",ue,[t("div",ce,[s[17]||(s[17]=t("span",{class:"absolute top-0 left-0 z-[-1] mb-8 flex h-[70px] w-[70px] rotate-[25deg] items-center justify-center rounded-2xl bg-primary bg-opacity-20 duration-300 group-hover:rotate-45"},null,-1)),a(w,{name:e.icon,class:"w-8 h-8 fill-white"},null,8,["name"])]),t("h4",pe,n(e.title),1),t("p",{class:"mb-8 text-body-color lg:mb-11",innerHTML:e.details},null,8,fe)])]))),128))])):u("",!0)])]),l.html.sections[2].enable_ticket_section?(r(),i("section",ge,[t("div",be,[t("form",{class:"card mt-2 p-4 rounded shadow-xl overflow-hidden",onSubmit:s[14]||(s[14]=j((...e)=>d.store&&d.store(...e),["prevent"])),enctype:"multipart/form-data"},[t("div",he,[t("h1",_e,n(o.$t("Create a ticket")),1),s[19]||(s[19]=t("div",{class:"mx-auto mb-6 mt-1 w-24 border-b"},null,-1)),t("div",xe,[a(_,{modelValue:l.form.first_name,"onUpdate:modelValue":s[0]||(s[0]=e=>l.form.first_name=e),error:l.form.errors.last_name,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("First name")},null,8,["modelValue","error","label"]),a(_,{modelValue:l.form.last_name,"onUpdate:modelValue":s[1]||(s[1]=e=>l.form.last_name=e),error:l.form.errors.last_name,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Last name")},null,8,["modelValue","error","label"]),a(_,{modelValue:l.form.email,"onUpdate:modelValue":s[2]||(s[2]=e=>l.form.email=e),error:l.form.errors.email,class:"pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Email Address")},null,8,["modelValue","error","label"]),a(_,{modelValue:l.form.subject,"onUpdate:modelValue":s[3]||(s[3]=e=>l.form.subject=e),error:l.form.errors.subject,class:"pb-5 pr-6 rtl:pr-0 rtl:pl-6 w-full lg:w-2/3",label:o.$t("Subject")},null,8,["modelValue","error","label"]),a(x,{modelValue:l.form.type_id,"onUpdate:modelValue":s[4]||(s[4]=e=>l.form.type_id=e),error:l.form.errors.type_id,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Type")},{default:b(()=>[t("option",ye,n(o.$t("Select a type")),1),(r(!0),i(c,null,p(f.types,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,we))),128))]),_:1},8,["modelValue","error","label"]),a(x,{onChange:s[5]||(s[5]=e=>d.getCategories()),modelValue:l.form.department_id,"onUpdate:modelValue":s[6]||(s[6]=e=>l.form.department_id=e),error:l.form.errors.department_id,class:"pr-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Department")},{default:b(()=>[t("option",ve,n(o.$t("Select a department")),1),(r(!0),i(c,null,p(f.departments,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,ke))),128))]),_:1},8,["modelValue","error","label"]),l.form.department_id?(r(),v(x,{key:0,ref:"category",onChange:s[7]||(s[7]=e=>d.getSubCategories()),modelValue:l.form.category_id,"onUpdate:modelValue":s[8]||(s[8]=e=>l.form.category_id=e),error:l.form.errors.category_id,class:"pb-5 pr-6 md:col-span-6 lg:w-1/3",label:o.$t("Category")},{default:b(()=>[t("option",Ve,n(o.$t("Select a category")),1),(r(!0),i(c,null,p(l.categories,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,Ce))),128))]),_:1},8,["modelValue","error","label"])):u("",!0),l.form.category_id?(r(),v(x,{key:1,ref:"sub_category",modelValue:l.form.sub_category_id,"onUpdate:modelValue":s[9]||(s[9]=e=>l.form.sub_category_id=e),error:l.form.errors.sub_category_id,class:"pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Sub Category")},{default:b(()=>[t("option",Le,n(o.$t("Select a sub category")),1),(r(!0),i(c,null,p(l.sub_categories,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,Se))),128))]),_:1},8,["modelValue","error","label"])):u("",!0),t("div",He,[t("label",je,n(o.$t("Request Details")),1),a(C,{theme:"snow",toolbar:"full",content:l.form.details,"onUpdate:content":s[10]||(s[10]=e=>l.form.details=e),contentType:"html"},null,8,["content"])])]),t("div",Me,[(r(!0),i(c,null,p(f.custom_fields,e=>(r(),i("div",{class:"flex w-full",key:e.id},[t("div",Ue,[t("label",{for:["checkbox"].includes(e.type)?null:"ticket_field_"+e.id,class:"block mb-2 text-sm text-gray-900 dark:text-white"},[h(n(e.label)+" ",1),e.required?u("",!0):(r(),i("small",Be,"(optional)"))],8,Te),["text","email","number"].includes(e.type)?y((r(),i("input",{key:0,"onUpdate:modelValue":m=>l.form.custom_field[e.name]=m,type:e.type,id:"ticket_field_"+e.id,placeholder:e.placeholder,required:e.required,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"},null,8,ze)),[[M,l.form.custom_field[e.name]]]):u("",!0),e.type==="textarea"?y((r(),i("textarea",{key:1,id:"ticket_field_"+e.id,rows:"2","onUpdate:modelValue":m=>l.form.custom_field[e.name]=m,class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:e.placeholder},null,8,Ie)),[[U,l.form.custom_field[e.name]]]):u("",!0),e.hint?(r(),i("p",qe,n(e.hint),1)):u("",!0)])]))),128))]),t("input",{ref:"file",type:"file",accept:".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf, .zip",class:"hidden",multiple:"multiple",onChange:s[11]||(s[11]=(...e)=>d.fileInputChange&&d.fileInputChange(...e))},null,544),t("div",Fe,[t("button",{type:"button",class:"btn flex justify-center items-center border-0",onClick:s[12]||(s[12]=(...e)=>d.fileBrowse&&d.fileBrowse(...e))},[a(w,{name:"file",class:"flex-shrink-0 h-8 fill-gray-400 pr-2 rtl:pl-2"}),s[18]||(s[18]=h()),t("h4",null,n(o.$t("Attach files")),1)]),l.form.files.length?(r(!0),i(c,{key:0},p(l.form.files,(e,m)=>(r(),i("div",{class:"flex items-center justify-between pr-6 pt-8 w-full lg:w-1/2",key:m},[t("div",Ae,[h(n(e.name)+" ",1),t("span",De,"("+n(d.getFileSize(e.size))+")",1)]),t("button",{type:"button",class:"btn flex justify-center items-center",onClick:Ze=>d.fileRemove(e,m)},n(o.$t("Remove")),9,Ee)]))),128)):u("",!0)]),t("div",Ne,[t("div",Oe,[y(t("input",{id:"terms",type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=e=>l.accept_terms=e),class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800",required:""},null,512),[[T,l.accept_terms]])]),t("label",Qe,[h(n(o.$t("I agree with the"))+" ",1),t("a",{href:this.route("terms_service"),target:"_blank",class:"text-blue-600 hover:underline dark:text-blue-500"},n(o.$t("terms and conditions")),9,Re)])])]),t("div",Ge,[a(L,{loading:l.form.processing,class:"rounded-lg bg-primary py-3 px-6 text-base font-medium text-white duration-300 ease-in-out hover:bg-opacity-80",type:"submit"},{default:b(()=>[h(n(o.$t("Submit")),1)]),_:1},8,["loading"])])],32)])])):u("",!0)])}const rt=B(O,[["render",Je]]);export{rt as default};
